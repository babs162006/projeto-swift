import Foundation

func listarTarefas(tarefas: [String]) {
    if tarefas.isEmpty { 
        print("Nenhuma tarefa cadastrada.") 
    } else {
            for i in 0..<tarefas.count {
            print("\(i + 1) - \(tarefas[i])")
            }
        }
}

func adicionarTarefa(tarefas: [String]) -> [String] {
    print("Digite a nova tarefa:")
    let novaTarefa = readLine()
    if let novaTarefa = novaTarefa{
        var novaLista = tarefas
        novaLista.append(novaTarefa)
        print("Tarefa adicionada!")
        return novaLista
    } else {
        print("Digite novamente.")
        return tarefas
    }
}

func removerTarefa(tarefas: [String]) -> [String] {
    listarTarefas(tarefas: tarefas)
    print("Digite o número da tarefa que deseja remover:")
    if let numero = readLine(), let n = Int(numero){
        if n >= 1 && n <= tarefas.count {
            var novaLista = tarefas
            let remov = novaLista.remove(at: n - 1)
            print("Tarefa '\(remov)' removida!")
            return novaLista
        } else {
            print("Número inválido. Digite novamente.")
               return tarefas
        }
    }
    return tarefas 
}

func editarTarefa(tarefas: [String]) -> [String] {
    listarTarefas(tarefas: tarefas)
    print("Digite o número da tarefa que deseja editar:")
    if let numero = readLine(), let n = Int(numero){
        print("Digite a nova Tarefa:")
        if n >= 1 && n <= tarefas.count{
           if let tarefaEditada = readLine(){
                var novaLista = tarefas
                novaLista[n - 1] = tarefaEditada
                print("Tarefa atualizada!")
                return novaLista
           } else {
            print("Número inválido.")
            return tarefas
              }
        }
    }
    return tarefas
}
var tarefas: [String] = []

while true {
    print("=== Lista de Tarefas ===")
    print("1 - Listar tarefas")
    print("2 - Adicionar tarefa")
    print("3 - Remover tarefa")
    print("4 - Editar tarefa")
    print("0 - Sair")
    print("Escolha uma opção:")


     
        if let opcao = readLine(), let numero = Int(opcao){
            switch numero {
            case 1:
                listarTarefas(tarefas: tarefas)
            case 2:
                tarefas = adicionarTarefa(tarefas: tarefas)
            case 3:
                tarefas = removerTarefa(tarefas: tarefas)
            case 4:
                tarefas = editarTarefa(tarefas: tarefas)
            case 0:
                print("Encerrado!")
                break
            default:
                print("Opção inválida! Digite outro número.")
            }
    }
}
