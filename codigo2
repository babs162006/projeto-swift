import Foundation

var tarefas: [String] = []

func listarTarefas(tarefas: [String]) {
     for i in 0..<tarefas.count {
     print("\(i + 1) - \(tarefas[i])")
    }
}

func adicionarTarefa(novaTarefa: String, tarefas: [String]) -> [String] {
    var novaLista = tarefas
        novaLista.append(novaTarefa)
        return novaLista
}

func removerTarefa(tarefas: [String],n: Int) -> [String] {
    var novaLista = tarefas
    if n > 0 && n <= tarefas.count{
    novaLista.remove(at: n - 1)
    }
    return novaLista 
}

func editarTarefa(tarefas: [String], n: Int, tarefaEditada: String) -> [String] {
    var novaLista = tarefas
    if n > 0 && n <= tarefas.count{
        novaLista[n - 1] = tarefaEditada
    }
    return novaLista 
}
 
var x = true

while x {
    print("=== Lista de Tarefas ===")
    print("1 - Listar tarefas")
    print("2 - Adicionar tarefa")
    print("3 - Remover tarefa")
    print("4 - Editar tarefa")
    print("0 - Sair")
    print("Escolha uma opção:")
     
        if let opcao = readLine(), let numero = Int(opcao){
            switch numero {
            case 1:
                listarTarefas(tarefas: tarefas)
            case 2:
                print("Digite a nova tarefa:")
                guard let novaTarefa = readLine(), !novaTarefa.isEmpty else {
                    print("Tarefa inválida.")
                    continue
                }
                tarefas = adicionarTarefa(novaTarefa: novaTarefa, tarefas: tarefas)
                print("Tarefa adicionada.")
            case 3:
                print("Digite o número da tarefa que deseja remover:")
                guard let numero = readLine(), let n = Int(numero) else{
                    print("Digite novamente.")
                    continue
                }
                tarefas = removerTarefa(tarefas: tarefas, n: n)
            case 4:
                guard !tarefas.isEmpty else {
                    print("Nenhuma tarefa para editar.")
                    continue
                }
                print("Digite o número da tarefa que deseja editar:")
                listarTarefas(tarefas: tarefas)
                guard let numero = readLine(), let n = Int(numero) else {
                    print("Entrada inválida.")
                    continue
                }
                print("Digite a nova descrição da tarefa:")
                guard let tarefaEditada = readLine(), !tarefaEditada.isEmpty else {
                    print("Descrição inválida.")
                    continue
                }
                tarefas = editarTarefa(tarefas: tarefas, n: n, tarefaEditada: tarefaEditada)
                print("Tarefa editada.")
            case 0:
                print("Encerrado!")
                x = false
            default:
                print("Opção inválida! Digite outro número.")
            }
    }
}